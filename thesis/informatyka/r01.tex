\chapter{Wprowadzenie. Cel pracy}
\label{r01}
Celem pracy jest zaprojektowanie i realizacja systemu do zarz±dzania wielokomputerowymi
serwerami WWW oraz przedstawienie ca³okszta³tu tematyki w zakresie równowa¿enia obci±¿eñ 
systemów wielokomputerowych i problematyki z tym zwi±zanej.

Dzia³anie ogólno¶wiatowej sieci rozleg³ej -- Internetu, rozumiane jest jako ,,lu¼no zorganizowana 
miêdzynarodowa wspó³praca autonomicznych, po³±czonych ze sob± sieci komputerowych, w oparciu o komunikacjê 
host--to--host poprzez dobrowoln± przynale¿no¶æ do otwartych protoko³ów i procedur zdefiniowanych w dokumentach 
Internet Standards, RFC 1310, RFC1311 i  RFC 1312''. 

Pocz±tków Internetu nale¿y szukaæ w projektach realizowanych na zlecenie Departamentu Obrony USA przez agencjê 
ARPA (ang. \emph{Advanced Research Projects Agency}) oraz jej nastêpczyniê -- agencjê DARPA (ang. \emph{Defense Advanced 
Research Projects Agency}). Przed tymi instytucjami postawiono zadanie opracowania standardów umo¿liwiaj±cych 
budowê rozleg³ej sieci komunikacyjnej odpornej na unicestwienie nawet poprzez atak nuklearny znacznej czê¶ci 
jej wêz³ów \cite{barylo1}. W wyniku prowadzonych prac w roku 1971 przekazana zostaje do u¿ytku sieæ ARPANET. Stosowane w niej 
protoko³y transmisji nie zapewnia³y jednak wystarczaj±cej przepustowo¶ci dla stale rosn±cej liczby u¿ytkowników
i ju¿ w roku 1973 pojawiaj± siê propozycje pierwszych protoko³ów z rodziny TCP/IP -- \emph{de facto} dzisiejszego
standardu transmisji internetowych. W roku 1981 na bazie ARPANET--u utworzona zostaje CSN (ang. \emph{Computer Science 
Newtwork})  wykorzystywana wspólnie przez abonentów wojskowych i cywilnych. W roku 1982 
protoko³y TCP/IP wypieraj± ca³kowicie starsze protoko³y (np. protokó³ NCP),  a do CSN ¶rednio co 20 dni 
pod³±czany jest nowy komputer. W roku 1984 nastêpuje podzia³ sieci na czê¶æ wojskow± -- MILNET i cywiln±, 
która zachowuje tradycyjn± nazwê ARPANET. W miarê jak zaczyna przekraczaæ ona granice USA i w miarê przybywania 
abonentów komercyjnych zaczyna pojawiaæ siê nazwa Internet. W roku 1990 decyzj± rz±du USA szkielet sieci ARPANET 
sk³adaj±cy siê z  czterech wêz³ów komutacyjnch (Los Angeles, Santa Barbara, Uniwersytet Stanforda i Uniwersytet 
Utah) zbudowanych w oparciu o minikomputery Honeywell 316 zostaje uznany za przestarza³y i przeznaczony do 
rozbiórki. Zastêpuje go sieæ NSFNET, która do dzi¶ jest szkieletow± sieci± amerykañskiej czê¶ci Internetu.

Kluczow± ze wzglêdu na tre¶æ tej pracy datê w historii Internetu jest rok 1990. Wtedy to w Europejskim O¶rodku 
Badañ J±drowych CERN w Genewie zosta³ opracowany i uruchomiony pierwszy serwer WWW (ang. \emph{World Wide Web}). WWW 
jest systemem hipertekstowym tzn. przechowuj±cym dane w postaci sieci dokumentów (plików) po³±czonych poprzez 
odsy³acze. Sam dokument mo¿e zawieraæ tekst, grafikê, d¼wiêk, animacje,  sekwencje video i inne rodzaje danych.  
Elementy wskazywane przez odsy³acze mog± znajdowaæ siê w tym samym dokumencie lub byæ innymi dokumentami na tym 
samym lub innym serwerze, co dokument zawieraj±cy dany odsy³acz. Obecnie WWW to zbiór dziesi±tków tysiêcy, 
po³±czonych sieci± odsy³aczy, serwerów w wielu krajach. Ka¿dy serwer udostêpnia u¿ytkownikom zgromadzone na nim 
dokumenty o ró¿norodnej tre¶ci informacyjnej, reklamowej, rozrywkowej, handlowej (e--banki, sklepy internetowe) itp.
Narzêdziem umo¿liwiaj±cym zwyk³emu u¿ytkownikowi Internetu korzystanie z zasobów WWW jest przegl±darka
(ang. \emph{browser}). Komunikacja przegl±darki z serwerem WWW odbywa siê w architekturze klient--serwer i jest 
zawsze inicjowana przez zapytania ze strony klienta (przegl±darki). Odpowiadaj±c na zapytania przegl±darki serwer
WWW przesy³a do niej ¿±dane dokumenty z wykorzystaniem protoko³u HTTP (ang. 
\emph{Hyper Text Transfer Protocol}). Najczê¶ciej stosowanym jêzykiem opisu dokumentu hipertekstowego jest HTML 
(ang. \emph{Hyper Text Mark up Language}). Przegl±darka interpretuj±c otrzymany plik HTML potrafi odpowiednio rozmie¶ciæ 
na ekranie u¿ytkownika tekst, grafikê i odsy³acze sk³adaj±ce siê na dokument. Pliki HTML maj±  charakter 
statyczny -- s³u¿± do prezentacji wcze¶niej przygotowanych danych. Specyfikacja HTML jest jednak bardzo 
elastyczna -- do plików HTML mo¿na w³±czaæ skompilowane do postaci kodów bajtowych programy jêzyka Java, 
skrypty JavaScript, Visual Basic--a czy kontrolki ActiveX, w ten sposób serwer WWW powoduje uruchomienie w 
komputerze u¿ytkownika  programów przes³anych w dokumencie, co uatrakcyjnia wygl±d dokumentu i umo¿liwia pewien 
stopieñ dialogu z u¿ytkownikiem. Dla zadañ takich jak np. wyszukiwanie danych do pliku HTML do³±czaæ mo¿na 
odwo³ania do programów (skryptów) CGI (ang. \emph{Common Gateway Interface}). Program napisany zgodnie z norm± CGI 
wykonywany jest w tym samym komputerze, w którym dzia³a proces serwera WWW -- w takiej sytuacji komputer ten 
staje siê serwerem aplikacji (mo¿e równie¿ prezentowaæ dane wydobywane z baz danych).

Nie sposób mówiæ o serwerach WWW w oderwaniu od takich us³ug internetowych jak 
Gopher, czy serwery FTP, gdy¿ wiele dokumentów hipertekstowych zawiera odsy³acze inicjuj±ce pobieranie plików z 
serwerów FTP lub dokonuj±cych prze³±czenia do systemu Gopher (czysto tekstowego systemu informacyjnego).

Przedstawiana praca dotyczy problematyki rozwoju sieci Internet w zakresie burzliwie rozwijaj±cych siê systemów 
informacyjnych opartych o WWW, a dok³adniej mo¿liwo¶ci budowy i implementacji wysokowydajnych systemów WWW opartych
o architekturê wieloserwerow±. Tradycyjny system WWW, sk³adaj±cy siê z pojedynczego komputera nie jest w stanie spe³niæ
wymagañ rosn±cej liczby coraz bardziej wybrednych klientów (zwiêkszanie procesorów, pamiêci operacyjne i dyskowej w platformach
jednoserwerowych ma swoje granice). Przeciêtny u¿ytkownik ,,pajêczyny'' oczekuje w miarê 
szybkiego,
ale przede wszystkim zawsze dostêpnego serwisu internetowego. Maj±c na uwadze fakt, ¿e systemy WWW stanowi± od pewnego czasu
znakomit± platformê do prowadzenia handlu elektronicznego -- dostêpno¶æ witryn jest niezbêdna do utrzymania siê na rynku firm 
prowadz±cych tego rodzaju us³ugi. Jedynym, jak siê wydaje, rozwi±zaniem jest tworzenie systemów WWW budowanych
na bazie wieloserwerowej -- tylko takie rozwi±zanie mo¿e zapewniæ ci±g³± dostêpno¶æ do zasobów WWW (ich g³ówn± zalet±
jest mo¿liwo¶æ stopniowej i teoretycznie niograniczonej rozbudowy).

Ju¿ w roku 1995 pakiety HTTP stanowi³y 36\% wszystkich pakietów przesy³anych w 
sieci szkieletowej NSFNET \cite{barylo2} i udzia³ ten wykazywa³ sta³± tendencjê wzrostow±. Obecnie g³ównym motorem rozwoju 
,,¶wiatowej pajêczyny'' s± wszelkiego rodzaju e--biznesy (platformy B2B, B2C i inne), co wi±¿e siê z ogromn± 
integracj± tradycyjnego statycznego HTML--a (lub XML--a) z elementami dynamicznymi zmieniaj±cymi siê w czasie. 
Zwiêksza to ju¿ i tak niema³e trudno¶ci w optymalnym konstruowaniu serwerów WWW. W zwi±zku z problemami 
zwi±zanymi z potê¿nym przyrostem internautów oraz komplikacjami w ci±g³ym rozwijaniu pojedynczych komputerów 
bêd±cych serwerami WWW, a tak¿e wi±zaniu ze sob± ró¿norakich us³ug internetowych -- stale zwiêkszaj±cym siê 
uznaniem (oraz znakomitym stosunkiem wydajno¶æ/cena) ciesz± siê systemy rozproszone: 
\begin{description}
\item[klastry webowe] -- serwery WWW rozproszone lokalnie tzn. funkcjonuj±ce w obrêbie sieci lokalnej;
\item[rozproszone serwery webowe] -- rozproszone geograficznie serwery webowe pomiêdzy którymi istnieje mechanizm szeregowania;
\item[rozproszone klastry webowe] -- jest to szczególny przypadek rozmieszczenia serwerów webowych -- stanowi kombinacjê 
globalnego i lokalnego rozproszenia. 
\end{description}
Problemem w ich wykorzystaniu 
jest odpowiednie skierowanie klientów do najlepszego serwisu tzn. takiego, który bez wzglêdu na obci±¿enie jest osi±galny dla 
klienta i zwraca mu odpowied¼ mo¿liwie najszybciej. Aby zrealizowaæ tego typu architekturê konieczne jest stworzenie
odpowiednich mechanizmów szeregowania zapytañ klienckich, algorytmów szeregowania wyznaczaj±cego najlepszy serwer oraz 
urz±dzenia, w którym jest zaimplementowany mechanizm i algorytm szeregowania. W zale¿no¶ci od umiejscowienia jednostki
szereguj±cej zapytania od klientów mo¿na wyró¿niæ trzy grupy metod:
\begin{itemize}
\item podej¶cie: po stronie klienta (wymagaj±ce modyfikacji po stronie klienta -- np.: ingerencji w budowê przegl±darki);
\item podej¶cie z wyko¿ystaniem niezale¿nego wêz³a dystrybuuj±cego zapytania od klientów (polegaj±ce na modyfikacji lub przekazywaniu
pakietów kierowanych do systemu konkretnym serwerom realizuj±cym zlecenie -- np.: komputer z zainstalowanym oprogramowaniem SecureWay Network Dispatcher firmy IBM);
\item podej¶cie: po stronie serwera (wymagaj±ce modyfikacji po stronie serwera)
\end{itemize}
Szczegó³owo, zarówno mechanizmy szeregowania zapytañ, algorytmy szeregowania jak i urz±dzenia, oraz sposób implementacji tak 
mechanizmów jak i algorytmów zostanie szczegó³owo omówiony w dalszej czê¶ci tej pracy (patrz: rozdzia³ \ref{r03} i \ref{r04})

Jako przyk³ad systemu o wiêkszej wydajno¶ci i dostêpno¶ci zaimplementowane zostanie rozwi±zanie oparte o architekturê 
wieloserwerow± w oparciu o komputery IBM RS/6000 pracuj±ce pod kontrol± systemu operacyjnego AIX oraz maszyny typu PC
pracuj±ce pod kontrol± MS Windows NT z wykorzystaniem profesjonalnego oprogramowania równowa¿±cego obci±¿enie -- pakietu
IBM SecureWay Nework Dispatcher. 

Celem pracy jest prezentacja algorytmów i rozwi±zañ s³u¿±cych do zarz±dzania rozproszonymi 
systemami WWW oraz przyk³ad implementacji takiego rozwi±zania. 
Omawiana instalacja serwerowa zosta³a zestawiona w laboratorium Instytutu Sterowania i Techniki Systemów 
Politechniki Wroc³awskiej. 

W dalszej czê¶ci pracy zostan± przedstawione protko³y TCP/IP, których znajomo¶æ jest konieczna do zrozumienia tre¶ci zawartych 
w czê¶ci praktycznej. Ten krótki opis obejmie IP, TCP, UDP, HTTP, FTP, SMTP, SNMP, SSL, DNS, oraz adresowanie URL. Po opisie 
protoko³ów zostanie szczegó³owo przybli¿ona architektura klient--serwer, struktura WWW oraz klasyfikacja i opis architektur
rozproszonych serwerów WWW. Kolejny rozdzia³ wyja¶nia czym jest i do czego jest potrzebne zarz±dzanie wielkomputerowymi 
systemami WWW oraz w jakich sytuacjach siê to zarz±dzanie stosuje. Ostatnim punktem tej pracy jest opis konfiguracji 
przyk³adowego systemu WWW wykorzystuj±cego oprogramowanie IBM Network Dispatcher\footnote{Aktualnie IBM Network Dispatcher jest elementem oprogramowania o nazwie IBM WebSphere Edge Server}.
